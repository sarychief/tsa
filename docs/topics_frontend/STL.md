[Link](https://www.statsmodels.org/dev/examples/notebooks/generated/stl_decomposition.html)
#### STL разложение временных рядов

STL (Seasonal and Trend decomposition using Loess) разложение - это метод разложения временного ряда на три компоненты: сезонную, трендовую и остаточную. Он используется для анализа и прогнозирования временных рядов, чтобы выделить сезонные и трендовые паттерны, а также оценить остаточную изменчивость.

#### Как работает STL разложение?

STL разложение работает следующим образом:

1. **Сезонная компонента**: Сначала STL разложение оценивает сезонную компоненту временного ряда. Для этого применяется метод локально взвешенной регрессии (Loess), который аппроксимирует сезонные паттерны с помощью гладкой кривой. Этот шаг позволяет выделить повторяющиеся сезонные колебания в данных.

2. **Трендовая компонента**: Затем STL разложение оценивает трендовую компоненту временного ряда. Она представляет собой долгосрочные изменения и тенденции в данных. Для оценки тренда также используется метод локально взвешенной регрессии (Loess), который аппроксимирует тренд с помощью гладкой кривой.

3. **Остаточная компонента**: Наконец, STL разложение вычисляет остаточную компоненту временного ряда. Она представляет собой остатки после вычитания сезонной и трендовой компоненты из исходных данных. Остаточная компонента содержит случайные или непредсказуемые колебания, которые не объясняются сезонностью или трендом.

#### Для чего нужно и используется STL разложение?

STL разложение имеет несколько практических применений:

1. **Анализ сезонности**: STL разложение помогает идентифицировать и анализировать сезонные паттерны во временных рядах. Это может быть полезно для понимания повторяющихся колебаний и сезонных влияний на данные.

2. **Прогнозирование**: Разложение временного ряда на сезонную и трендовую компоненты позволяет лучше понять долгосрочные тенденции и повторяющиеся сезонные колебания. Это может быть полезно для прогнозирования будущих значений временного ряда.

3. **Удаление сезонности и тренда**: STL разложение также может использоваться для удаления сезонной и трендовой компоненты из временного ряда. Это может быть полезно, если вам нужно сконцентрироваться на остаточной изменчивости или анализировать только случайные колебания данных.


```python
from statsmodels.tsa.seasonal import STL 
stl = STL(co2, seasonal=13) 
res = stl.fit() 
fig = res.plot()
```

![](https://www.statsmodels.org/dev/_images/examples_notebooks_generated_stl_decomposition_6_0.png)